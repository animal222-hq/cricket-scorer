<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Side-by-Side Cricket Scorer</title>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #fdf6ff;
      margin: 0;
      padding: 1rem;
      color: #333;
    }

    .scorer-container {
      display: flex;
      flex-direction: row;
      justify-content: center;
      flex-wrap: wrap;
      gap: 1rem;
    }

    .team-box {
      flex: 1 1 350px;
      background-color: #fff3e0;
      padding: 1rem;
      border-radius: 1rem;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      position: relative;
    }

    .team-box.active {
      border: 3px solid #ff6f61;
    }

    .header {
      display: flex;
      justify-content: space-between;
      font-size: 1.4rem;
      font-weight: bold;
    }

    .subheader {
      font-size: 0.95rem;
      color: #555;
      margin-bottom: 1rem;
    }

    .buttons {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin-bottom: 1rem;
    }

    button {
      font-size: 1rem;
      padding: 0.6rem 0.8rem;
      border: none;
      border-radius: 10px;
      display: flex;
      align-items: center;
      gap: 0.3rem;
      cursor: pointer;
      background-color: #ffe0b2;
      transition: transform 0.1s ease;
    }

    button:hover {
      transform: scale(1.08);
    }

    button.green { background: #b9f6ca; }
    button.yellow { background: #fff59d; }
    button.pink { background: #f48fb1; }
    button.red { background: #ef9a9a; }
    button.orange { background: #ffcc80; }

    .material-icons {
      font-size: 20px;
    }

    .switch-btn {
      display: block;
      margin: 2rem auto 0;
      padding: 0.8rem 2rem;
      background-color: #ff7043;
      color: white;
      border: none;
      border-radius: 40px;
      font-weight: bold;
      font-size: 1rem;
      cursor: pointer;
    }

    #commentary {
      max-width: 800px;
      margin: 2rem auto 0;
      background: #f3e5f5;
      border-radius: 10px;
      padding: 1rem;
      font-size: 0.95rem;
      line-height: 1.4;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      white-space: pre-wrap;
      min-height: 120px;
    }

    @media (max-width: 768px) {
      .scorer-container {
        flex-direction: column;
        align-items: center;
      }
    }
  </style>
</head>
<body>

  <div class="scorer-container">
    <div class="team-box" id="team1-box">
      <div class="header">
        <div>Team 1 üü°</div>
        <div id="team1-score">0/0</div>
      </div>
      <div class="subheader" id="team1-overs">0.0 overs | RR: 0.00</div>
      <div class="buttons">
        <button onclick="addRun(0)">‚Ä¢</button>
        <button onclick="addRun(1)">1Ô∏è‚É£</button>
        <button onclick="addRun(2)">2Ô∏è‚É£</button>
        <button onclick="addRun(3)">3Ô∏è‚É£</button>
        <button class="green" onclick="addRun(4)">4Ô∏è‚É£</button>
        <button onclick="addRun(5)">5Ô∏è‚É£</button>
        <button class="yellow" onclick="addRun(6)">6Ô∏è‚É£</button>
        <button class="pink" onclick="addExtra('wide')">üåê Wide</button>
        <button class="red" onclick="addExtra('noball')">‚ö†Ô∏è No Ball</button>
        <button class="pink" onclick="addExtra('bye')">üèÉ‚Äç‚ôÇÔ∏è Bye</button>
        <button class="pink" onclick="addExtra('legbye')">ü¶µ Leg Bye</button>
        <button class="orange" onclick="undo()">‚Ü©Ô∏è Undo</button>
        <button class="red" onclick="addWicket()">‚ùå Wicket</button>
      </div>
    </div>

    <div class="team-box" id="team2-box">
      <div class="header">
        <div>Team 2 üîµ</div>
        <div id="team2-score">0/0</div>
      </div>
      <div class="subheader" id="team2-overs">0.0 overs | RR: 0.00</div>
      <div class="buttons">
        <button onclick="addRun(0)">‚Ä¢</button>
        <button onclick="addRun(1)">1Ô∏è‚É£</button>
        <button onclick="addRun(2)">2Ô∏è‚É£</button>
        <button onclick="addRun(3)">3Ô∏è‚É£</button>
        <button class="green" onclick="addRun(4)">4Ô∏è‚É£</button>
        <button onclick="addRun(5)">5Ô∏è‚É£</button>
        <button class="yellow" onclick="addRun(6)">6Ô∏è‚É£</button>
        <button class="pink" onclick="addExtra('wide')">üåê Wide</button>
        <button class="red" onclick="addExtra('noball')">‚ö†Ô∏è No Ball</button>
        <button class="pink" onclick="addExtra('bye')">üèÉ‚Äç‚ôÇÔ∏è Bye</button>
        <button class="pink" onclick="addExtra('legbye')">ü¶µ Leg Bye</button>
        <button class="orange" onclick="undo()">‚Ü©Ô∏è Undo</button>
        <button class="red" onclick="addWicket()">‚ùå Wicket</button>
      </div>
    </div>
  </div>

  <button class="switch-btn" onclick="switchTeam()">üîÅ Switch Batting Team</button>

  <div id="commentary"><strong>Commentary:</strong>
  </div>

  <script>
    let teams = [
      { score: 0, wickets: 0, balls: 0 },
      { score: 0, wickets: 0, balls: 0 }
    ];
    let currentTeam = 0;
    let commentary = [];
    let history = [];

    const wicketTypes = [
      "Bowled",
      "Caught",
      "LBW",
      "Run Out",
      "Stumped",
      "Hit Wicket",
      "Obstructing the Field",
      "Handled Ball",
      "Timed Out",
      "Hit the Ball Twice"
    ];

    function updateDisplay() {
      teams.forEach((team, idx) => {
        const overs = Math.floor(team.balls / 6) + "." + (team.balls % 6);
        const rr = team.balls > 0 ? (team.score / (team.balls / 6)).toFixed(2) : "0.00";
        const scoreEl = document.getElementById(`team${idx + 1}-score`);
        const overEl = document.getElementById(`team${idx + 1}-overs`);
        const boxEl = document.getElementById(`team${idx + 1}-box`);
        if (scoreEl && overEl && boxEl) {
          scoreEl.innerText = `${team.score}/${team.wickets}`;
          overEl.innerText = `${overs} overs | RR: ${rr}`;
          boxEl.classList.toggle('active', idx === currentTeam);
        }
      });
      document.getElementById("commentary").innerText = "Commentary:\n" + commentary.slice(-5).reverse().join("\n");
    }

    function addRun(runs) {
      teams[currentTeam].score += runs;
      teams[currentTeam].balls++;
      history.push({team: currentTeam, type: 'run', runs, wicket: false, ballCountIncrement: 1});
      commentary.push(`Team ${currentTeam + 1} scores ${runs} run${runs !== 1 ? 's' : ''}`);
      updateDisplay();
    }

    function addWicket() {
      // Prompt user to select wicket type
      let choice = prompt("Select wicket type:\n" + wicketTypes.map((w, i) => `${i+1}. ${w}`).join("\n"), "1");
      let wicketType = "Unknown";
      if (choice !== null) {
        const index = parseInt(choice) - 1;
        if (index >= 0 && index < wicketTypes.length) {
          wicketType = wicketTypes[index];
        }
      }

      teams[currentTeam].wickets++;
      teams[currentTeam].balls++;
      history.push({team: currentTeam, type: 'wicket', runs: 0, wicket: true, ballCountIncrement: 1, wicketType});
      commentary.push(`WICKET! Team ${currentTeam + 1} - ${wicketType}`);
      updateDisplay();
    }

    function addExtra(type) {
      let runs = 1;
      let ballCountIncrement = 0;
      if (type === 'bye' || type === 'legbye') {
        ballCountIncrement = 1; // count ball delivered for byes
      }
      teams[currentTeam].score += runs;
      teams[currentTeam].balls += ballCountIncrement;
      history.push({team: currentTeam, type: 'extra', runs, wicket: false, ballCountIncrement, extraType: type});
      const label = { wide: "Wide", noball: "No Ball", bye: "Bye", legbye: "Leg Bye" }[type] || "Extra";
      commentary.push(`Extra for Team ${currentTeam + 1}: ${label}`);
      updateDisplay();
    }

    function undo() {
      if (history.length === 0) {
        alert("Nothing to undo!");
        return;
      }
      let last = history.pop();
      teams[last.team].score -= last.runs;
      if (last.wicket) teams[last.team].wickets--;
      teams[last.team].balls -= last.ballCountIncrement;
      commentary.push(`Undo last action for Team ${last.team + 1}`);
      updateDisplay();
    }

    function switchTeam() {
      currentTeam = 1 - currentTeam;
      commentary.push(`Switched to Team ${currentTeam + 1}`);
      updateDisplay();
    }

    updateDisplay();
  </script>

</body>
</html>
